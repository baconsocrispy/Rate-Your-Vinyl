{% extends 'LABucketListApp/LABucketListApp_base.html' %}
{% load static %}
{% block title %}Edit Destination{% endblock %}

{% block content %}

<div class="container">
    <div id="demo" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div class="card" id="details-card">

                    <!-- path/progress bar on top -->
                    <div class="path">
                        <a href="{% url 'BucketList_home' %}">HOME</a> /
                        <a href="{% url 'BucketList_index' %}">MASTER LIST</a> /
                        <a href="{% url 'BucketList_details' destinations.pk %}">DETAILS</a>
                         / EDIT
                    </div>

                    <form method="POST" action="{% url 'BucketList_edit' destinations.pk %}">
                        <div class="formBlock">
                            {% csrf_token %}
                            {{ form.non_field_errors }}
                            {{ form.as_p }}
                        </div>
                        <div class="formBtn">

                            <!-- Update button -->
                            <input type="submit" class="btn btn-secondary" value="Update Destination" name="Save_Item">

                            <!-- Cancel Button and back to Destination Details -->
                            <a href="{% url 'BucketList_details' destinations.pk %}">
                                <button type="button" class="btn btn-dark" value="Cancel">Cancel</button>
                            </a>

                            <!-- Button trigger modal to delete -->
                            <button type="button" class="btn btn-danger float-right" data-toggle="modal" data-target="#deleteModal"><strong>Delete</strong></button>

                            </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal" id="deleteModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
              <div class="modal-header">
                    <h5 class="modal-title">Delete Destination</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
              </div>
              <div class="modal-body">
                    <p>Are you sure you want to delete "{{ destinations.name|title }}"?</p>
              </div>
              <div class="modal-footer">
                  <form method="POST" action="{% url 'BucketList_delete' destinations.pk %}">
                      {% csrf_token %}
                      <button class="btn btn-danger" type="submit"><strong>Yes</strong></button>
                      <button class="btn btn-secondary" data-dismiss="modal"><strong>No</strong></button>
                  </form>
              </div>
        </div>
  </div>
</div>

{% endblock %}